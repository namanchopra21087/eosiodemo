(this.webpackJsonporderentry=this.webpackJsonporderentry||[]).push([[0],{171:function(e,t,a){e.exports=a(350)},176:function(e,t,a){},186:function(e,t,a){},269:function(e,t){},271:function(e,t){},283:function(e,t){},285:function(e,t){},350:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),o=a(93),c=a.n(o),s=(a(176),a(5)),i=a(3),l=a.n(i),u=a(4),d=a(13),p=a(14),m=a(17),h=a(29),v=a(30),b=a(31),f=a(76),g=a(61),w=(a(185),a(186),a(94)),E=a(370),O=a(373),y=a(374),U=a(371),k=a(372),B=function(e){var t=e.columns,a=e.data,r=Object(w.useTable)({columns:t,data:a}),o=r.getTableProps,c=r.getTableBodyProps,s=r.headerGroups,i=r.rows,l=r.prepareRow;return n.a.createElement(E.a,o(),n.a.createElement(U.a,null,s.map((function(e){return n.a.createElement(k.a,e.getHeaderGroupProps(),e.headers.map((function(e){return n.a.createElement(y.a,e.getHeaderProps(),e.render("Header"))})))}))),n.a.createElement(O.a,c(),i.map((function(e,t){return l(e),n.a.createElement(k.a,e.getRowProps(),e.cells.map((function(e){return n.a.createElement(y.a,e.getCellProps(),e.render("Cell"))})))}))))},N={activeUser:null,accountName:"",orderItems:"0"},j=function(e){Object(v.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(p.a)(this,a),(n=t.call(this,e)).activeUser=null,n.respData=null,n.data=null,n.renderLogoutBtn=function(){var e=n.props.ual,t=e.activeUser,a=e.activeAuthenticator,o=e.logout;if(t&&a)return n.activeUser=null,r.createElement("p",{className:"ual-btn-wrapper"},r.createElement(f.a,{variant:"outline-danger",onClick:o},"Logout"))},n.handleOrderUpdate=function(e){n.setState({orderItems:e.target.value})},n.renderOrderForm=function(){var e=n.state.orderItems;return r.createElement("div",{style:{marginLeft:"auto",marginRight:"auto",width:"25%",marginTop:"40px",marginBottom:"10px"}},r.createElement(g.a,null,r.createElement(g.a.Group,{controlId:"orderItems"},r.createElement(g.a.Label,null,"Items to order (comma separated):"),r.createElement(g.a.Control,{type:"text",name:"orderItems",value:e,onChange:n.handleOrderUpdate}))))};return n.state=Object(d.a)(Object(d.a)({},N),{},{rpc:new s.JsonRpc("http://localhost:8888")}),n.updateAccountName=n.updateAccountName.bind(Object(h.a)(n)),n.renderOrderButton=n.renderOrderButton.bind(Object(h.a)(n)),n.placeorder=n.placeorder.bind(Object(h.a)(n)),n.renderModalButton=n.renderModalButton.bind(Object(h.a)(n)),n.handleOrderUpdate=n.handleOrderUpdate.bind(Object(h.a)(n)),n.renderOrderForm=n.renderOrderForm.bind(Object(h.a)(n)),n.loadTableData=n.loadTableData.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"placeorder",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,r,n,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,a=t.accountName,r=t.activeUser,n=t.orderItems,console.log("With UAL implemented, this submits an order for items "+n),o={actions:[{account:"eosiotraing",name:"addorder",authorization:[{actor:a,permission:"active"}],data:{userid:this.userid+1,items:n.split(","),status:"Active"}}]},e.prev=3,e.next=6,r.signTransaction(o,{broadcast:!0});case 6:this.loadTableData(),window.location.reload(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.warn(e.t0);case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"renderOrderButton",value:function(){return r.createElement("p",{className:"ual-btn-wrapper"},r.createElement(f.a,{variant:"outline-warning",onClick:this.placeorder},"Place Order"))}},{key:"componentDidUpdate",value:function(){var e=this.props.ual.activeUser;e&&!this.state.activeUser?this.setState({activeUser:e},this.updateAccountName):!e&&this.state.activeUser&&this.setState(N)}},{key:"updateAccountName",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.state.activeUser.getAccountName();case 3:t=e.sent,this.setState({accountName:t},this.updateAccountBalance),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"renderModalButton",value:function(){return r.createElement("p",{className:"ual-btn-wrapper"},r.createElement(f.a,{variant:"outline-primary",onClick:this.props.ual.showModal,className:"ual-generic-button"},"Connect to Wallet"))}},{key:"loadTableData",value:function(){var e=this;this.state.rpc.get_table_rows({json:!0,code:"eosiotraing",scope:"eosiotraing",table:"orders",limit:10,reverse:!0,show_payer:!1}).then((function(t){e.respData=t.rows,e.userid=t.rows[0].userid}))}},{key:"render",value:function(){var e,t=this.renderModalButton(),a="",n=this.renderOrderButton(),o=this.props.ual.activeUser;void 0==o&&null==o||(this.activeUser=o.accountName,a=o.accountName?"Logged in as ".concat(o.accountName):"");this.state.rpc.get_account("eosiotraing").accountName;t=!this.activeUser&&this.renderModalButton(),e=this.renderLogoutBtn(),this.loadTableData(),null!=this.respData?this.data=this.respData:this.data=[];return r.createElement("div",{style:{textAlign:"center"}},r.createElement("img",{src:"https://bolttech-image.s3-ap-southeast-1.amazonaws.com/images/ph/phase2_welcome_banner.jpg",height:"200"}),r.createElement("h2",{style:{color:"#2EB5C7"}},"Bolttech Wallet App"),r.createElement("div",{style:{marginBottom:"20px"}}),t,r.createElement("h3",{style:{color:"#ffc107"}},a),this.renderOrderForm(),n,r.createElement("div",{style:{backgroundColor:"white",paddingBottom:"10px"}},r.createElement(B,{columns:[{Header:"OrderData",columns:[{Header:"ID",accessor:"id"},{Header:"UserId",accessor:"userid"},{Header:"Status",accessor:"status"},{Header:"Items",accessor:"items"}]}],data:this.data})),e)}}]),a}(r.Component);j.displayName="OrderEntryApp";var A=j,x=a(95),I=a(163);var D=function(){var e={chainId:"cf057bbfb72640471fd910bcb67639c22df9f92470936cddc1ade0e2f2e7dc4f",rpcEndpoints:[{protocol:"http",host:"localhost",port:8888}]},t=new I.Anchor([e],{appName:"OrderEntryApp",rpc:new s.JsonRpc("http://localhost:8888"),service:"https://cb.anchor.link",disableGreymassFuel:!1,requestStatus:!1}),a=Object(x.withUAL)(A);return a.displayName="OrderEntryApp",n.a.createElement(x.UALProvider,{chains:[e],authenticators:[t],appName:"OrderEntryApp"},n.a.createElement(a,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[171,1,2]]]);
//# sourceMappingURL=main.c423ceb7.chunk.js.map